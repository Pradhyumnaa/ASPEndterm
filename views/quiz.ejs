<!DOCTYPE html>

<head>
    <title>Quizly - <%= subject.subject_name %> - <%= collection.collection_name %> </title>
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="icon" type="image/x-icon" href="/images/favicon.png">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">

</head>

<body id="subjectBody">
<nav class="pt-5 pb-4 navbar navbar-expand-lg bg-body-white">
    <a class="navbar-brand" href="/">
        <img src="/images/navbarlogo.png" alt="Bootstrap" id="navbarLogo" width="121" height="50">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
            <li class="nav-item">
                <a class="me-5 nav-link disabled"><%= user.nickname %></a>
            </li>
            <li class="nav-item">
                <a class="ps-5 pe-5 btn btn-primary" href="/logout" role="button">Log Out</a>
            </li>
        </ul>
    </div>
</nav>

<!-- Breadcrumbs component -->
<div class="mt-5 row">
    <div class="col-6">
        <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/">Level <%= subject.level_id %></a></li>
                <li class="breadcrumb-item"><a
                            href="/collections/<%= subject.subject_name %>"><%= subject.subject_name %></a></li>
                <li class="breadcrumb-item active" aria-current="page"><%= collection.collection_name %></li>
            </ol>
        </nav>
    </div>
    <div class="col-6 text-end">
        <a id="browseCardsButton" href="/collections/<%= subject.subject_name %>/<%= collection_id %>">Back to Collection
            <i class="bi bi-play-circle-fill"></i>
        </a>
    </div>
</div>


<div class="mb-4">
    <!-- Start quiz from flashcards -->
    <!-- HTML adapted https://www.w3schools.com/howto/howto_js_quotes_slideshow.asp -->
    <div class="slideshow-container">
        <!-- Question/Answer -->
        <% for (let i = 0; i < flashcards.length; i++) { %>
            <div class="mySlides">
                <p>Card <%= i + 1 %> of <%= flashcards.length %></p>
                <div class="flashcard-question"><%- flashcards[i].question %></div>
                <div class="flashcard-answer" style="display: none"><%- flashcards[i].answer %></div>
            </div>
        <% } %>
    </div>

    <!-- Dots/bullets/indicators at the bottom -->
    <div class="carousel-dot-container mb-4">
        <!-- For loop for button indicators -->
        <% for (let i = 0; i < flashcards.length; i++) { %>
            <span class="carousel-dot"></span>
        <% } %>
    </div>

    <!-- Reveal Answer button and Confidence measuring buttons -->
    <div class="">
        <div class="d-flex justify-content-center">
            <button type="button" class="btn btn-success btn-lg" id="reveal-answer-button">Reveal Answer</button>
        </div>
        <div style="display: none; width: 100%" id="hide-answer-button">
            <div class="d-flex justify-content-center mb-4">How well did you remember this?</div>
            <div class="d-flex justify-content-center">
                <button type="button" class="btn btn-danger mx-1" onclick="markCard(0)">0</button>
                <button type="button" class="btn btn-warning mx-1" onclick="markCard(1)">1</button>
                <button type="button" class="btn btn-secondary mx-1" onclick="markCard(2)">2</button>
                <button type="button" class="btn btn-info mx-1" onclick="markCard(3)">3</button>
                <button type="button" class="btn btn-primary mx-1" onclick="markCard(4)">4</button>
                <button type="button" class="btn btn-success mx-1" onclick="markCard(5)">5</button>

            </div>
        </div>
    </div>

</div>


<!-- Scripts for implementing Bootstrap javascript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"
></script>

<!--Main script for Quiz page -->
<script src="/scripts/quiz.js"></script>

</body>
